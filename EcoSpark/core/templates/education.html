{% extends 'base.html' %}
{% block title %}Learn About E-Waste â€¢ E-Waste Finder{% endblock %}
{% block content %}

<!-- Hero / Banner -->
<div class="rounded mb-4" 
     style="background: linear-gradient(135deg, #2e8b57, #145c39); color: white;">
  <div class="row align-items-center" style="min-height: 230px;">

    <!-- Left Text -->
    <div class="col-md-7 p-4">
      <h2 class="fw-bold mb-2">Learn About Harmful E-Waste Components</h2>
      <p class="mb-0">Understand why certain materials in discarded electronics can harm the environment and human health.</p>
    </div>

    <!-- Right Image (smaller, always visible) -->
    <div class="col-md-5 d-none d-md-flex justify-content-center align-items-center p-3">
      <img 
        src="https://static.vecteezy.com/system/resources/previews/042/894/847/non_2x/e-waste-recycling-initiative-flat-illustration-vector.jpg"
        alt="E-waste illustration"
        style="
          max-height: 180px;
          width: auto;
          object-fit: contain;
          border-radius: 8px;
        ">
    </div>

  </div>
</div>

<!-- Input Section -->
<h4 class="mb-3">Search for a Component</h4>
<p class="text-muted">Enter any e-waste material or chemical (e.g., lead, mercury, cadmium, plastic resin) to learn why it is harmful.</p>

<form method="post" class="row gy-2 gx-2 align-items-center mb-4">
  {% csrf_token %}
  <div class="col-sm-8">
    <input type="text" 
           name="topic" 
           value="{{ topic|default:'' }}" 
           class="form-control" 
           placeholder="Type a harmful component..." 
           required>
  </div>
  <div class="col-sm-4 d-grid d-sm-block">
    <button class="btn btn-success w-100" type="submit">Explain with AI</button>
  </div>
</form>

<!-- Helpful Section: Common Harmful Components -->
<h4 class="mt-5 mb-3">Common Harmful Components in E-Waste</h4>
<div class="row g-3">
  <div class="col-md-4">
    <div class="card h-100 shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Lead</h5>
        <p class="card-text">Found in CRT screens and solder. Causes brain damage and kidney issues if released into soil and water.</p>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card h-100 shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Mercury</h5>
        <p class="card-text">Present in LCD monitors and lamps. Toxic to the nervous system and aquatic life.</p>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card h-100 shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Cadmium</h5>
        <p class="card-text">Used in batteries and semiconductors. Causes lung disorders and soil contamination.</p>
      </div>
    </div>
  </div>
</div>

<!-- Helpful Facts Section -->
<div class="mt-5 p-4 rounded shadow-sm" style="background: linear-gradient(135deg, #d4f5e3, #eaf6ef); border-left: 4px solid #52b788;">
  <h4 class="mb-3 fw-bold" style="color: #222 !important; position: relative; z-index: 10;">ðŸ’¡ Did You Know?</h4>
  <ul style="color: #222 !important; line-height: 1.8; position: relative; z-index: 10;">
    <li>Only about <strong style="color: #2d6a4f !important;">17% of global e-waste</strong> is properly recycled each year.</li>
    <li>Improper disposal releases toxic substances into soil, water, and air.</li>
    <li>Recycling a single laptop can save enough energy to power a home for hours.</li>
  </ul>
</div>

<!-- AI Result Modal -->
{% if ai_text %}
  <div class="modal fade show" id="aiModal" tabindex="-1" style="display:block; background: rgba(0,0,0,0.5); z-index: 1050; margin-top: 80px;">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content eco-modal-content">
        <div class="modal-header eco-modal-header">
          <h5 class="modal-title text-white">Why {{ topic|title }} Is Harmful</h5>
          <a href="{% url 'education' %}" class="btn-close btn-close-white"></a>
        </div>
        <div class="modal-body eco-modal-body">
          <p class="text-white">{{ ai_text }}</p>
        </div>
        <div class="modal-footer eco-modal-footer">
          <a href="{% url 'education' %}" class="btn btn-light">Close</a>
        </div>
      </div>
    </div>
  </div>
{% endif %}

{% endblock %}
